# Nginx Admin — Roadmap

**Nginx Admin** — это SPA-панель управления конфигурацией Nginx.
Проект ориентирован на разработчиков и администраторов, которым требуется безопасный и наглядный способ создавать, редактировать и анализировать виртуальные хосты без прямого редактирования файлов на сервере.

---

## 0.x — Архитектурная подготовка

### 0.1.0 — Proof of Concept

- Инициализация проекта на **React + Vite + TailwindCSS**
- Настройка клиентского роутера (BrowserRouter / HashRouter)
- Базовый шаблон интерфейса с сайдбаром и контентной областью

### 0.2.0 — Структурирование проекта

- Определена файловая структура (`core`, `pages`, `shared`, `ui-kit`)
- Добавлены маршруты: `/`, `/routes`, `/config`, `/logs`, `/statistics`

### 0.3.0 — Система маршрутов (черновая версия)

- Создана страница `/routes`
- Реализована таблица маршрутов (`RouteList`)
- Добавлена бизнес-логика через `useRoutesPage`

### 0.4.0 — Формы и CRUD

- Интеграция `react-hook-form`
- Реализована модальная форма `RouteModal`
- Добавлены вкладки: основные, locations, advanced, preview

### 0.5.0 — Схемы и типизация

- Определены сущности `Route`, `LocationConfig` и схемы Zod
- Введена строгая типизация формовых компонентов

### 0.6.0 — UI-kit

- Созданы переиспользуемые компоненты (`Button`, `Input`, `Form`)
- Унифицирован стиль и цветовая палитра (тёмная тема)

### 0.7.0 — Preview и валидация

- Добавлен предпросмотр итогового конфига
- Реализована базовая обработка ошибок и состояний загрузки

### 0.8.0 — UX-доработки

- Единый визуальный стиль
- Отступы, тени, ховеры, визуальная консистентность

### 1.0.0 — MVP релиз

- Полностью реализован функционал страницы `/routes`
- Поддержка CRUD для маршрутов
- Предпросмотр итоговой конфигурации
- Базовая архитектура готова для масштабирования
- Публикация на GitHub Pages

---

## 1.x — Переход от SPA к Electron и SSH-интеграции

### **1.0.5 — Завершение SPA**

**Цель:** стабилизировать интерфейс и UX перед сменой окружения.

- Завершены UX-доработки (анимации, spacing, контраст, уведомления)
- Полный CRUD и предпросмотр маршрутов
- Автосохранение и toast-сообщения
- Используется `LocalStorageRouteRepository`
- Готовая DDD-архитектура (`useCases`, `repositories`, `store`)

> ✅ Завершённый SPA-базис, готовый к интеграции Electron.

---

### **1.1.0 — Electron Shell Integration**

**Цель:** обернуть существующий UI в Electron и создать инфраструктуру обмена данными.

- Интеграция Electron + Vite (`vite-plugin-electron`)
- Настроены `main`, `preload` и `renderer`
- Безопасный IPC (context isolation, ограниченный Node API)
- Настроены окружения dev/prod
- Поддержка сборок под Win/Linux/macOS
- Подготовка интерфейсов адаптеров для хранилища (`SSHRouteRepository`)

---

### **1.2.0 — SSHRouteRepository**

**Цель:** реализовать взаимодействие с реальным сервером через SSH.

- Реализация `SSHRouteRepository` на основе `ssh2`
- Поддержка whitelisted-команд (`nginx -t`, `reload`, `apply`)
- Передача конфигов во временный каталог `/tmp/nginx-admin`
- Проверка синтаксиса перед применением и diff-просмотр
- Обработка ошибок и таймаутов
- Добавлен раздел "Подключения" для тестирования и управления

---

### **1.3.0 — Тестирование и Hardening**

**Цель:** покрыть desktop-логику тестами и усилить безопасность.

- Unit и integration тесты (`Vitest`, `React Testing Library`)
- E2E сценарии (`Playwright`)
- Проверка фильтрации SSH-команд
- Sandbox-режим Electron (`contextIsolation`, `preload`)
- Crash recovery и dev mode
- Поддержка автообновлений

---

## 2.x — Управление конфигурацией

### 2.0.0 — Редактор Nginx-конфигураций

**Цель:** предоставить интерфейс для глобального редактирования `nginx.conf`.

- Вкладка `/config` с редактором кода (Monaco / CodeMirror)
- Подсветка синтаксиса Nginx
- Проверка конфигурации перед применением
- Версионирование изменений

---

## 3.x — Диагностика и мониторинг

### 3.0.0 — Просмотр логов

**Цель:** обеспечить базовую диагностику работы Nginx.

- Просмотр access и error логов
- Фильтрация по домену, IP и коду ответа
- Автоматическое обновление (live tail)
- Очистка логов и экспорт

---

## 4.x — Аналитика и интеграции

### 4.0.0 — Статистика

**Цель:** визуализировать нагрузку и производительность.

- Графики по доменам и запросам
- Метрики времени отклика, ошибок, трафика
- Интеграция с Prometheus / Netdata API

### 4.1.0 — Авторизация и мультисерверность

**Цель:** подготовить продукт к промышленному использованию.

- Аутентификация пользователей (JWT / Basic Auth)
- Поддержка нескольких серверов
- Сводная панель состояния по всем инстансам

---

## 5.x — Расширенные возможности и автоматизация

### 5.0.0 — Enterprise-уровень

**Цель:** превратить Nginx Admin в комплексную DevOps-панель.

- Сценарии деплоя и отката конфигураций
- Резервное копирование и восстановление
- REST / WebSocket API для интеграции с CI/CD
- Поддержка плагинов и пользовательских тем
- Интерактивное тестирование маршрутов

---

## Стратегическая цель

Создать независимую, лёгкую и модульную панель для управления Nginx,
способную заменить ручное редактирование конфигураций в 80% сценариев системных администраторов и DevOps-инженеров.
